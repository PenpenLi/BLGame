{
  "code": "import AldMg from \"../Manages/AldMg\";\r\nimport PlatformMg from \"../Platform/PlatformMg\";\r\nimport CoinMg from \"../Manages/CoinMg\";\r\nexport default class BaseDialog extends Laya.Script {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.aldPage = \"BaseDialog\";\r\n    }\r\n    onEnable() {\r\n        console.log(this.owner.url, \"------------------onEnable\");\r\n        this.aldPage = this.owner.url.substring(this.owner.url.lastIndexOf(\"/\"), this.owner.url.lastIndexOf(\".scene\"));\r\n        this.initData();\r\n        this.findView();\r\n        this.initView();\r\n        this.screenAdaptation();\r\n    }\r\n    onStart() {\r\n        console.log(this.owner.url, \"------------------onStart\");\r\n        AldMg.upload(this.aldPage);\r\n    }\r\n    onDisable() {\r\n        console.log(this.owner.url, \"------------------onDisable\");\r\n        Laya.timer.clearAll(this.owner);\r\n        Laya.Tween.clearAll(this.owner);\r\n    }\r\n    onDestroy() {\r\n        console.log(this.owner.url, \"------------------onDestroy\");\r\n    }\r\n    showBanner() {\r\n    }\r\n    hideBanner() {\r\n    }\r\n    setIsShowMisLead(isShow, view) {\r\n        let oldY;\r\n        if (isShow) {\r\n            view.visible = true;\r\n            oldY = view.y;\r\n            try {\r\n                Laya.timer.clearAll(this);\r\n                Laya.timer.once(1500, this, () => {\r\n                    Laya.Tween.to(view, { \"y\": oldY }, 300, null, null, 200);\r\n                });\r\n            }\r\n            catch (error) { }\r\n        }\r\n        else {\r\n            view.visible = false;\r\n            view.alpha = 0.3;\r\n            Laya.timer.once(1000, this, function () {\r\n                view.visible = true;\r\n            });\r\n        }\r\n    }\r\n    startAni(name, isLoop) {\r\n        let ani = this.owner[name];\r\n        if (ani) {\r\n            ani.play(null, isLoop);\r\n        }\r\n    }\r\n    refreshCoin() {\r\n        let coinBox = this.owner.getChildByName(\"coinBox\");\r\n        if (coinBox) {\r\n            PlatformMg.Instance.topMidle(coinBox);\r\n            let coinLb = coinBox.getChildByName(\"coinLb\");\r\n            let coinNum = CoinMg.Instance.getCoin();\r\n            if (coinLb != null) {\r\n                if (coinNum >= 10000) {\r\n                    coinLb.text = (coinNum / 1000).toFixed(1) + \"k\";\r\n                }\r\n                else {\r\n                    coinLb.text = String(coinNum);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "E:/laya project/BLGame/src/UI/BaseDialogRt.ts",
    "E:/laya project/BLGame/src/Manages/AldMg.ts",
    "E:/laya project/BLGame/src/Platform/PlatformMg.ts",
    "E:/laya project/BLGame/src/Manages/CoinMg.ts"
  ]
}
